---
description: >-
  Software and Systems Engineering — Software Testing — Part 5: Keyword-Driven
  Testing
---

# ISO/IEC/IEEE 29119-5

## 概念

关键字驱动测试是一种测试用例的编写方法，无论是手工测试还是自动化，它均适用；它适用于任何测试级别和测试类型；

## 关键字驱动测试理念

关键字驱动通过创建一套关键字，再使用这套关键字去编写和实现自动化测试用例，从而让编写人员无需知晓测试编程与工具相关的知识；

关键字驱动的终极目标就是提供一套基础的、无二义性的关键字，几乎所有用例均可使用该关键字来实现；

## 关键字的定义

关键字的定义分为两个部分：

* **底层** 底层负责描述关键字相关的操作步骤；
* **顶层** 顶层负责给关键字起一个名字，表示关键字对应的测试步骤，并且列出关键字相关的输入参数；

## 关键字的优点

* 歧义更少，更容易理解；
* 模块化，用例不受操作步骤变化的影响；

## 关键字测试中各个部分的关系

![](../../../.gitbook/assets/image%20%28117%29.png)

测试过程包含测试用例；

测试用例分为关键字驱动写法的测试用例和手工测试用例；

关键字驱动写法的测试用例操作步骤由关键字构成；关键字中包含一系列的操作步骤；

手工测试用例由一个个操作步骤构成；

使用代码实现关键字，使用自动化框架为关键字驱动写法的用例自动创建可执行测试脚本；

手工测试用例自动化则需要为一条条用例编写测试脚本；

## 关键字分层实现

关键字驱动测试需要多层关键字来实现；

最高层的关键字通常是最抽象的，最底层的关键字是最详细的，一般与底层的GUI/CMD接口相对应；

![](../../../.gitbook/assets/image%20%28120%29.png)

* **Domain Layer**

  领域层对应业务和领域相关的活动，对应领域的一些专业术语；  
  有了领域层，测试人员可以在业务和领域内更加容易的编写测试用例；  
  领域层的关键字开发适合实现无关的，无需考虑实现被测对象的技术；  
  构建在领域层上面的测试不会受到被测对象实现的影响；

* **Test Interface Layer** 本层的关键字与具体的测试接口相关，它和被测对象的实现密切相关； 它的数量一般远少于领域层的关键字；一般把GUI控件、命令作为测试接口层的关键字； 在Test Interface Layer下面，可能还需要实现一层测试自动化层，来对被测接口\(GUI或CMD\)进行控制，如，WebDriver；

## 关键字类型

### 简单关键字 vs 复合关键字

#### 简单关键字

简单关键字常用于Test Interface Layer；

根据被测对象的不同，一般由自动化框架提供一套预置的关键字来搞定；

#### 复合关键字

简单关键字虽然够用，但是它并不和功能特性相对应；

此时，需要组合使用简单关键字实现更复杂的操作，相应参数可能会需要用到符合参数，即，数据结构；

![&#x590D;&#x5408;&#x5173;&#x952E;&#x5B57;&#x4E0E;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x5173;&#x952E;&#x5B57;&#x7684;&#x5173;&#x7CFB;](../../../.gitbook/assets/image%20%28133%29.png)

适合复合关键字使得用例使用业务或域模型来表达成为了可能，有助于大家对业务的理解；

![&#x4F7F;&#x7528;&#x590D;&#x5408;&#x5173;&#x952E;&#x5B57;&#x6784;&#x5EFA;intermediate layer](../../../.gitbook/assets/image%20%28132%29.png)

### 导航/交互\(input\)关键字 vs 验证\(output\)关键字

关键字一般可以分为导航输入类的关键字和验证的关键字；

验证关键字往往和测试用例的执行结果密切相关，因此往往让导航关键字实现验证功能；

有些验证类的导航关键字，仅用于某个导航关键字，那么就应该和这个导航关键字合二为一；

有些导航关键字有时候预期结果是成功，有时候预期结果是失败，这个时候需要有参数进行控制；

### 关键字和测试结果

关键字除了导航、验证，还可以用来判断测试状态、抓取测试结果，包括，但不限于：

* 测试输出
* 复合测试成功标准
* 测试执行日志
* 硬件输出
* 系统状态
* 测试失败
  * 测试输出与预期不一
  * 步骤无法执行

有些关键字在执行的时候可能会出现阻塞，此时需要对关键字进行标注，一般标注为：

* May be blocked
* Must not be blocked

前者不会影响测试结果，后者则会影响测试结果；

测试框架还可以提供额外的错误识别机制，处理关键字返回的错误信息；

## 关键字和数据

关键字可以带参数，参数的数量可以是固定长度的，也可以是可变长度的；

大部分关键字









